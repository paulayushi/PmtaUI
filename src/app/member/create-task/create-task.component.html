<div class="container">
    <div class="row justify-content-center">
        <div class="col-4">
            <form [formGroup]="taskForm" (ngSubmit)="assignTask()">
                <h2 class="text-center text-primary">Assign Task</h2>
                <hr>
                <div class="form-group">
                  <input formControlName="memberId"
                    [class.is-invalid]="taskForm.controls['memberId'].touched && taskForm.controls['memberId'].invalid"        
                    type="number" 
                    class="form-control" 
                    placeholder="User Id">
                  <div class="invalid-feedback" *ngIf="taskForm.controls['memberId'].errors?.['required']">
                    Member id is required.
                  </div>
                </div>
                <div class="form-group">
                  <input formControlName="taskName"
                    [class.is-invalid]="taskForm.controls['taskName'].touched && taskForm.controls['taskName'].invalid"        
                    type="text" 
                    class="form-control" 
                    placeholder="Task name">
                  <div class="invalid-feedback" *ngIf="taskForm.controls['taskName'].errors?.['required']">
                    Task name is required.
                  </div>
                </div>    
                <div class="form-group">
                  <input formControlName="delivarables"
                  [class.is-invalid]="taskForm.controls['delivarables'].touched && taskForm.controls['delivarables'].invalid" 
                    type="text" 
                    class="form-control" 
                    placeholder="Delivarables">
                  <div class="invalid-feedback" *ngIf="taskForm.controls['delivarables'].errors?.['required']">
                    Delivarables is required.
                  </div>
                </div>    
                <div class="form-group">
                  <input formControlName="taskStartDate"
                    [class.is-invalid]="taskForm.controls['taskStartDate'].touched && taskForm.controls['taskStartDate'].invalid"        
                    type="text" 
                    class="form-control"
                    bsDatepicker
                    [bsConfig]="bsConfig"
                    placeholder="Project start date">
                  <div class="invalid-feedback" *ngIf="taskForm.controls['taskStartDate'].errors?.['required']">
                    Task start date is required.
                  </div>
                </div>
                <div class="form-group">
                  <input formControlName="taskEndDate"
                    [ngClass]="{'is-invalid': (taskForm.get('taskEndDate').errors || taskForm.hasError('dateValidator')) && taskForm.get('taskEndDate').touched}"
                    type="text" 
                    class="form-control"
                    bsDatepicker
                    [bsConfig]="bsConfig"
                    placeholder="Project end date">
                  <div class="invalid-feedback" *ngIf="taskForm.controls['taskEndDate'].errors?.['required']">
                    Task end date is required.
                  </div>
                  <div *ngIf="taskForm.hasError('dateValidator')" class="invalid-feedback">
                    Task end date must be greater than task start date.
                  </div>
                </div>    
                <div class="form-group text-center">
                  <button class="btn btn-success mr-2" type="submit" [disabled]="taskForm.invalid">Create Task</button>
                  <button class="btn btn-default" type="button" (click)="cancel()">Cancel</button>
                </div>
              </form>
        </div>
      </div>    
</div>
